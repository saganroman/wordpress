/*! mpce-simple-contact-form-addon - v1.2.0 - 2018-06-15 */

jQuery(document).ready(function(){var i=jQuery("#mpce-cfa-tabs-container"),o=jQuery("#mpce-cfa-template-manager-tools");function a(e){e.preventDefault(),e.stopPropagation(),o.find(".mpce-cfa-form-info .duplicate-form-name, .mpce-cfa-form-info .wrong-form-name").addClass("hidden");var a=o.find(".class-name").val();if(new RegExp("^[A-Za-z0-9][-_a-z0-9]*$").test(a))if(i.find('[name="mpce_cfa_template['+a+']"]').length)o.find(".mpce-cfa-form-info .duplicate-form-name").removeClass("hidden");else{var n=MPCE_CFA_Lang.remove,t=MPCE_CFA_Lang.temp,r=MPCE_CFA_Lang.form,c=i.find("h2.nav-tab-wrapper");jQuery(c).append('<a class="nav-tab" href="#'+a+'">'+a+"</a>");var s='<div id="'+a+'" class="tab-content"><div class="mpce-cfa-form_id-container">'+r+' <span class="mpce-cfa-form_id">'+a+'</span><button class="mpce-cfa-remove-entry">'+n+'</button></div><div class="mpce-cfa-template-details"><label class="mpce-cfa-container"> <span>'+t+'</span><textarea rows="10" style="width:100%;max-width:1000px;" name="mpce_cfa_template['+a+']"></textarea></label></div></div>';jQuery(".tab",i).append(s),jQuery("#mpce-cfa-tabs-container h2.nav-tab-wrapper a:last-child").trigger("click"),o.find(".class-name").val("")}else o.find(".mpce-cfa-form-info .wrong-form-name").removeClass("hidden");return!1}i.on("click",".mpce-cfa-remove-entry",function(e){e.preventDefault(),e.stopPropagation();var a=jQuery(this).closest(".tab-content"),n=jQuery(a).attr("id");return a.remove(),jQuery('h2.nav-tab-wrapper a[href="#'+n+'"]',i).remove(),!1}),jQuery(".mp-create-template-entry",o).on("click",a),jQuery(".class-name",o).on("keypress",function(e){13===e.which&&a(e)}),jQuery("#mpce-cfa-tabs-container h2.nav-tab-wrapper").bind("click",function(e){e.preventDefault();var a=jQuery(e.target);if(a.is("a")&&"nav-tab"===a.attr("class")){a.parent().addClass("current"),a.parent().siblings().removeClass("current");var n=a.attr("href");jQuery("#mpce-cfa-tabs-container .tab-content").css("display","none"),jQuery(n).fadeIn()}})});